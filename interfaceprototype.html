<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNFinished Business - Employment Application</title>
</head>
<body>
    <center>
        <h1>UNFinished Business</h1>
        <p>Application For Employment (All Applicants Are Tested For Illegal Drugs)</p>
        <p>APPLICATION DATE: <span id="currentDate"></span></p>
        
        <form id="applicationForm" onsubmit="return validateAndSavePage1();">
            First Name: <input type="text" name="firstName" size="20">
            Last Name: <input type="text" name="lastName" size="20">
            Middle Initial: <input type="text" name="middleInitial" size="2" maxlength="1">
            <br><br><br>
            Address: <input type="text" name="address" size="50">
            <br><br><br>
            City: <input type="text" name="city" size="30">
            State: <select name="state">
                <option value="">Select a state</option>
                <option value="AL">AL</option>
                <option value="AK">AK</option>
                <option value="AZ">AZ</option>
                <option value="AR">AR</option>
                <option value="CA">CA</option>
                <option value="CO">CO</option>
                <option value="CT">CT</option>
                <option value="DE">DE</option>
                <option value="FL">FL</option>
                <option value="GA">GA</option>
                <option value="HI">HI</option>
                <option value="ID">ID</option>
                <option value="IL">IL</option>
                <option value="IN">IN</option>
                <option value="IA">IA</option>
                <option value="KS">KS</option>
                <option value="KY">KY</option>
                <option value="LA">LA</option>
                <option value="ME">ME</option>
                <option value="MD">MD</option>
                <option value="MA">MA</option>
                <option value="MI">MI</option>
                <option value="MN">MN</option>
                <option value="MS">MS</option>
                <option value="MO">MO</option>
                <option value="MT">MT</option>
                <option value="NE">NE</option>
                <option value="NV">NV</option>
                <option value="NH">NH</option>
                <option value="NJ">NJ</option>
                <option value="NM">NM</option>
                <option value="NY">NY</option>
                <option value="NC">NC</option>
                <option value="ND">ND</option>
                <option value="OH">OH</option>
                <option value="OK">OK</option>
                <option value="OR">OR</option>
                <option value="PA">PA</option>
                <option value="RI">RI</option>
                <option value="SC">SC</option>
                <option value="SD">SD</option>
                <option value="TN">TN</option>
                <option value="TX">TX</option>
                <option value="UT">UT</option>
                <option value="VT">VT</option>
                <option value="VA">VA</option>
                <option value="WA">WA</option>
                <option value="WV">WV</option>
                <option value="WI">WI</option>
                <option value="WY">WY</option>
            </select>
            Zip: <input type="text" name="zip" id="zip" size="10" maxlength="5" pattern="[0-9]*">
            <br><br><br>
            How many years have you lived at this address?
            <button type="button" onclick="decreaseYears()">-</button>
            <input type="number" name="yearsAtAddress" id="yearsAtAddress" min="0" value="0" readonly style="width: 50px;">
            <button type="button" onclick="increaseYears()">+</button>
            &nbsp;&nbsp;&nbsp;&nbsp;
            SSN: <input type="text" name="ssn" id="ssn" size="15" maxlength="11" placeholder="###-##-####">
            <br><br><br>
            Telephone Number: <input type="text" name="telephone" id="telephone" size="17" maxlength="14" placeholder="(###)###-####">
            Mobile Number: <input type="text" name="mobile" id="mobile" size="17" maxlength="14" placeholder="(###)###-####">
            <br><br><br>
            Email: <input type="email" name="email" size="40">
            <br><br><br>
            Are you at least 18? (All employees must be 18 or over)
            <input type="radio" name="ageVerification" value="yes"> Yes
            <input type="radio" name="ageVerification" value="no"> No
            <br><br><br>
            Position Applied For: <input type="text" name="position" size="30">
            <br><br><br>
            Desired Salary: $
            <button type="button" onclick="decreaseSalary()">-</button>
            <input type="number" name="desiredSalary" id="desiredSalary" min="0" value="0" readonly style="width: 100px;">
            <button type="button" onclick="increaseSalary()">+</button>
            <br><br><br>
            <button type="submit" style="width: 100%;">Next Page</button>
        </form>
        
        <div id="page2" style="display: none;">
            <h2>PERSON TO BE NOTIFIED IN CASE OF EMERGENCY</h2>
            <form id="emergencyForm">
                First Name: <input type="text" name="emergencyFirstName" size="20">
                Last Name: <input type="text" name="emergencyLastName" size="20">
                Middle Initial: <input type="text" name="emergencyMiddleInitial" size="2" maxlength="1">
                <br><br><br>
                Address: <input type="text" name="emergencyAddress" size="50">
                <br><br><br>
                City: <input type="text" name="emergencyCity" size="30">
                State: <select name="emergencyState">
                    <option value="">Select a state</option>
                    <option value="AL">AL</option>
                    <option value="AK">AK</option>
                    <option value="AZ">AZ</option>
                    <option value="AR">AR</option>
                    <option value="CA">CA</option>
                    <option value="CO">CO</option>
                    <option value="CT">CT</option>
                    <option value="DE">DE</option>
                    <option value="FL">FL</option>
                    <option value="GA">GA</option>
                    <option value="HI">HI</option>
                    <option value="ID">ID</option>
                    <option value="IL">IL</option>
                    <option value="IN">IN</option>
                    <option value="IA">IA</option>
                    <option value="KS">KS</option>
                    <option value="KY">KY</option>
                    <option value="LA">LA</option>
                    <option value="ME">ME</option>
                    <option value="MD">MD</option>
                    <option value="MA">MA</option>
                    <option value="MI">MI</option>
                    <option value="MN">MN</option>
                    <option value="MS">MS</option>
                    <option value="MO">MO</option>
                    <option value="MT">MT</option>
                    <option value="NE">NE</option>
                    <option value="NV">NV</option>
                    <option value="NH">NH</option>
                    <option value="NJ">NJ</option>
                    <option value="NM">NM</option>
                    <option value="NY">NY</option>
                    <option value="NC">NC</option>
                    <option value="ND">ND</option>
                    <option value="OH">OH</option>
                    <option value="OK">OK</option>
                    <option value="OR">OR</option>
                    <option value="PA">PA</option>
                    <option value="RI">RI</option>
                    <option value="SC">SC</option>
                    <option value="SD">SD</option>
                    <option value="TN">TN</option>
                    <option value="TX">TX</option>
                    <option value="UT">UT</option>
                    <option value="VT">VT</option>
                    <option value="VA">VA</option>
                    <option value="WA">WA</option>
                    <option value="WV">WV</option>
                    <option value="WI">WI</option>
                    <option value="WY">WY</option>
                </select>
                Zip: <input type="text" name="emergencyZip" id="emergencyZip" size="10" maxlength="5" pattern="[0-9]*">
                <br><br><br>
                Telephone Number: <input type="text" name="emergencyTelephone" id="emergencyTelephone" size="17" maxlength="14" placeholder="(###)###-####">
                Mobile Number: <input type="text" name="emergencyMobile" id="emergencyMobile" size="17" maxlength="14" placeholder="(###)###-####">
                <br><br><br>
                Email: <input type="email" name="emergencyEmail" size="40">
                <br><br><br>
                Relationship to Applicant: <input type="text" name="relationship" size="30">
                <br><br><br>
            </form>
            <button type="button" onclick="goBackToPage1()" style="width: 100%;">Back to Page 1</button>
        </div>
    </center>
    
    <script>
        // Get current date
        const today = new Date();
        const month = String(today.getMonth() + 1).padStart(2, '0');
        const day = String(today.getDate()).padStart(2, '0');
        const year = today.getFullYear();
        
        // Display date in MM/DD/YYYY format
        document.getElementById('currentDate').textContent = month + '/' + day + '/' + year;
        
        // Only allow numbers in zip code
        document.getElementById('zip').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '');
        });
        
        document.getElementById('emergencyZip').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/\D/g, '');
        });
        
        // Auto-format SSN with dashes
        document.getElementById('ssn').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, ''); // Remove all non-digits
            let formatted = '';
            
            if (value.length > 0) {
                formatted = value.slice(0, 3);
            }
            if (value.length > 3) {
                formatted += '-' + value.slice(3, 5);
            }
            if (value.length > 5) {
                formatted += '-' + value.slice(5, 9);
            }
            
            e.target.value = formatted;
        });
        
        // Auto-format phone numbers with (###)###-####
        function formatPhone(input) {
            let value = input.value.replace(/\D/g, ''); // Remove all non-digits
            
            if (value.length === 0) {
                input.value = '';
                return;
            }
            
            let formatted = '';
            
            if (value.length <= 3) {
                formatted = '(' + value;
            } else if (value.length <= 6) {
                formatted = '(' + value.slice(0, 3) + ')' + value.slice(3);
            } else {
                formatted = '(' + value.slice(0, 3) + ')' + value.slice(3, 6) + '-' + value.slice(6, 10);
            }
            
            input.value = formatted;
        }
        
        document.getElementById('telephone').addEventListener('input', function(e) {
            formatPhone(e.target);
        });
        
        document.getElementById('mobile').addEventListener('input', function(e) {
            formatPhone(e.target);
        });
        
        document.getElementById('emergencyTelephone').addEventListener('input', function(e) {
            formatPhone(e.target);
        });
        
        document.getElementById('emergencyMobile').addEventListener('input', function(e) {
            formatPhone(e.target);
        });
        
        // Increase/decrease years at address counter
        function increaseYears() {
            const input = document.getElementById('yearsAtAddress');
            input.value = parseInt(input.value) + 1;
        }
        
        function decreaseYears() {
            const input = document.getElementById('yearsAtAddress');
            if (parseInt(input.value) > 0) {
                input.value = parseInt(input.value) - 1;
            }
        }
        
        // Increase/decrease desired salary counter
        window.increaseSalary = function() {
            const input = document.getElementById('desiredSalary');
            input.value = parseInt(input.value) + 1;
        }
        
        window.decreaseSalary = function() {
            const input = document.getElementById('desiredSalary');
            if (parseInt(input.value) > 0) {
                input.value = parseInt(input.value) - 1;
            }
        }
        
        // Store application data
        let applicationData = {};
        
        // Validate and save Page 1 data
        function validateAndSavePage1() {
            const form = document.getElementById('applicationForm');
            
            // Check if form is valid
            if (!form.checkValidity()) {
                form.reportValidity();
                return false;
            }
            
            // Save all form data
            const formData = new FormData(form);
            formData.forEach((value, key) => {
                applicationData[key] = value;
            });
            
            console.log('Page 1 Data Saved:', applicationData);
            
            // Hide page 1, show page 2
            form.style.display = 'none';
            document.getElementById('page2').style.display = 'block';
            
            return false; // Prevent actual form submission
        }
        
        // Go back to Page 1
        function goBackToPage1() {
            document.getElementById('applicationForm').style.display = 'block';
            document.getElementById('page2').style.display = 'none';
        }
    </script>
</body>
</html>